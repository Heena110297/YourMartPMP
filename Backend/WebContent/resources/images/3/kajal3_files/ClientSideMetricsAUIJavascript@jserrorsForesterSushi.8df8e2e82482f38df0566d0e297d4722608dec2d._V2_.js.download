(function(c,e){function t(c){if(c)return c.replace(/^\s+|\s+$/g,"")}function n(d,e){if(!d)return{};var b="INFO"===e.logLevel;d.m&&d.m.message&&(d=d.m);var l=e.m||e.message||"",l=d.m&&d.m.message?l+d.m.message:d.m&&d.m.target&&d.m.target.tagName?l+("Error handler invoked by "+d.m.target.tagName+" tag"):d.m?l+d.m:d.message?l+d.message:l+"Unknown error",l={m:l,name:d.name,type:d.type,csm:L+" "+(d.fromOnError?"onerror":"ueLogError")},g,h,m=0,n;l.logLevel=e.logLevel||z;e.adb&&(l.adb=e.adb);if(g=e.attribution)l.attribution=
""+g;if(!b){l.pageURL=e.pageURL||""+(window.location?window.location.href:"")||"missing";l.f=d.f||d.sourceURL||d.fileName||d.filename||d.m&&d.m.target&&d.m.target.src;l.l=d.l||d.line||d.lineno||d.lineNumber;l.c=d.c?""+d.c:d.c;l.s=[];l.t=c.ue.d();if((b=d.stack||(d.err?d.err.stack:""))&&b.split)for(l.csm+=" stack",g=b.split("\n");m<g.length&&l.s.length<y;)(b=g[m++])&&l.s.push(t(b));else for(l.csm+=" callee",h=w(d.args||arguments,"callee"),g=m=0;h&&m<y;)n=p,h.skipTrace||(b=h.toString())&&b.substr&&(n=
0===g?4*p:n,n=1==g?2*p:n,l.s.push(b.substr(0,n)),g++),h=w(h,"caller"),m++;if(!l.f&&0<l.s.length&&(m=l)&&m.s){var q,b=0<m.s.length?m.s[0]:"";g=1<m.s.length?m.s[1]:"";b&&(q=b.match(x));q&&3==q.length||!g||(q=g.match(K));q&&3==q.length&&(m.f=q[1],m.l=q[2])}}return l}function w(c,e){try{return c[e]}catch(b){}}function r(d,p){if(d){for(var b=n(d,p),l=(window.ue_err?window.ue_err.errorHandlers:null)||[],g=0;g<l.length;g++)"function"==typeof l[g].handler&&l[g].handler(b);c.ue.log(b,p.channel||h,{nb:1});
"function"===typeof ue_err.elh&&ue_err.elh(d,p);try{if(!d.fromOnError){var r=e.console,m=e.JSON,l="Error logged with the Track\x26Report JS errors API(http://tiny/1covqr6l8/wamazindeClieUserJava): ";if(r){if(m&&m.stringify)try{l+=m.stringify(b)}catch(t){l+="no info provided; converting to string failed"}else l+=b.m;"function"===typeof r.error?r.error(l,b):"function"===typeof r.log&&r.log(l,b)}}}catch(t){}}}function v(d,e){if(d&&!(c.ue_err.ec>c.ue_err.mxe)){c.ue_err.ter.push(d);e=e||{};var b=d.logLevel||
e.logLevel;e.logLevel=b;e.attribution=d.attribution||e.attribution;b&&b!==z&&b!==H&&b!==A&&b!==I||c.ue_err.ec++;b&&b!=z||ue_err.ecf++;r(d,e)}}if(c.ue_err&&(!c.ueLogError||c.ueLogError.isStub)){var h=c.ue_err_chan||"jserr",z="FATAL",H="ERROR",A="WARN",I="DOWNGRADED",L="v5",y=20,p=256,K=/\(?([^\s]*):(\d+):\d+\)?/,x=/.*@(.*):(\d*)/;r.skipTrace=1;n.skipTrace=1;v.skipTrace=1;(function(){if(c.ue_err.erl){var d=c.ue_err.erl.length,e,b;for(e=0;e<d;e++)b=c.ue_err.erl[e],r(b.ex,b.info);ue_err.erl=[]}})();c.ueLogError=
v}})(ue_csm,window);
(function(c,e){function t(a){for(var u={},k,f,O=0;O<a.length;O++)f=a[O],f.r=f.r||b.rid,f.s=f.s||c.ue_sid,k=f.r+f.s+f.m,f.c&&(u[k]||(u[k]=[]),u[k].push(a[O]));return u}function n(a){for(var u=1;u<arguments.length;u++){var k=arguments[u];try{if(k.isSupported)return k.send(a)}catch(b){}}}function w(){if(g.length&&!b.paused){for(var a=0;a<m.length;a++)m[a]();b._flhs+=1;r();n(t(g.splice(0,g.length)),B,D,E)}q=J=0}function r(){p&&v({k:"chk",f:b._flhs,l:b._lpn,s:"full"},"csm")}function v(a,u,k){k=k||{};!c.ue_furl||
0===k.bf&&b.isBF||(a={r:k.r||(b.paused?void 0:b.rid),s:k.s||(b.paused?void 0:c.ue_sid),m:k.m||c.ue_mid,mkt:k.mkt||c.ue_mkt,sn:k.sn||c.ue_sn,c:u,d:a,t:k.t||b.d(),cs:k.c&&c.ue_qsl},b._lpn[u]=(b._lpn[u]||0)+1,k.b?n(t([a]),B,E):k.nb?n(t([a]),B,D,E):k.img||M[u]?n(t([a]),E):k.ff?(g.push(a),w()):k.n?(g.push(a),0===F?w():q||(q=e.setTimeout(w,F))):(g.push(a),J||(J=e.setTimeout(w,P))))}function h(a,b,k){G++;G==y&&v({m:"Max number of Forester Logs exceeded",f:"forester-client.js",logLevel:"ERROR"},e.ue_err_chan||
"jserr");(G<y||k&&k.il)&&v(a,b,k)}function z(){if(!N){for(var a=0;a<C.length;a++)C[a]();for(a=0;a<m.length;a++)m[a]();b._flhs+=1;r();n(t(g.splice(0,g.length)),B,E);N=!0}}function H(a){var b=d(a);window.ue_fps&&a.reqs&&(b={csmcount:{counter:K,t:0,value:b.length}},b.csmcount.value+=d(b).length,a.reqs.push(b),b=d(a));return b}var A={};(function(){function a(a){return 10>a?"0"+a:a}function b(a){f.lastIndex=0;return f.test(a)?'"'+a.replace(f,function(a){var b=e[a];return"string"===typeof b?b:"\\u"+("0000"+
a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function k(a,f){var e,g,Q=c,m,h=f[a];h&&"object"===typeof h&&"function"===typeof h.toJSON&&(h=h.toJSON(a));"function"===typeof l&&(h=l.call(f,a,h));switch(typeof h){case "string":return b(h);case "number":return isFinite(h)?String(h):"null";case "boolean":case "null":return String(h);case "object":if(!h)return"null";c+=d;m=[];if("[object Array]"===Object.prototype.toString.apply(h)){f=h.length;for(a=0;a<f;a+=1)m[a]=k(a,h)||"null";g=0===m.length?
"[]":c?"[\n"+c+m.join(",\n"+c)+"\n"+Q+"]":"["+m.join(",")+"]";c=Q;return g}if(l&&"object"===typeof l)for(f=l.length,a=0;a<f;a+=1)"string"===typeof l[a]&&(e=l[a],(g=k(e,h))&&m.push(b(e)+(c?": ":":")+g));else for(e in h)Object.prototype.hasOwnProperty.call(h,e)&&(g=k(e,h))&&m.push(b(e)+(c?": ":":")+g);g=0===m.length?"{}":c?"{\n"+c+m.join(",\n"+c)+"\n"+Q+"}":"{"+m.join(",")+"}";c=Q;return g}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(b){return isFinite(this.valueOf())?
this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var f=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,c,d,e={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},l;"function"!==
typeof A.stringify&&(A.stringify=function(a,b,f){var u;d=c="";if("number"===typeof f)for(u=0;u<f;u+=1)d+=" ";else"string"===typeof f&&(d=f);if((l=b)&&"function"!==typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("JSON.stringify");return k("",{"":a})})})();var I=function(){function a(b,c){if(null==b)return c.push("!n");if("number"===typeof b)return c.push("!"+b);if("string"===typeof b)return"\\"==b[b.length-1]?c.push("'"+b.replace(/'/g,"\\'")+"u005C'"):c.push("'"+b.replace(/'/g,
"\\'")+"'");if("boolean"===typeof b)return c.push(b?"!t":"!f");if(b instanceof Array){c.push("*");for(var f=0;f<b.length;f++)a(b[f],c);return c.push(")")}if("object"==typeof b){c.push("(");for(f in b)b.hasOwnProperty(f)&&(c.push(f),a(b[f],c));return c.push(")")}return c.push("!n")}return{stringify:function(b){var c=[];a(b,c);return c.join("")}}}(),L=c.ue_qsl||2E3,y=2E3,p=1===window.ue_ddq,K="foresterPayloadSize",x=function(){},d=e.JSON&&e.JSON.stringify||A&&A.stringify,R=I.stringify,b=c.ue||{},I=
c.uet||x;(c.uet||x)("bb","ue_frst_v2",{wb:1});var l="//"+c.ue_furl+"/1/batch/1/OE/",g=[],C=[],m=[],N=!1,q,J,F=void 0===c.ue_hpfi?1E3:c.ue_hpfi,P=void 0===c.ue_lpfi?1E4:c.ue_lpfi,M={"scheduled-delivery":1},G=0,D=function(){function a(){if(e.XDomainRequest){var a=new XDomainRequest;a.onerror=x;a.ontimeout=x;a.onprogress=x;a.onload=x;a.timeout=0;return a}if(e.XMLHttpRequest){a=new XMLHttpRequest;if(!("withCredentials"in a))throw"";return a}if(e.ActiveXObject){for(var b=0;b<f.length&&!a;b++)try{a=new ActiveXObject(f[b]),
f=[f[b]]}catch(c){}return a}}function d(a){for(var f=[],k=a[0]||{},e=0;e<a.length;e++){var l={};l[a[e].c]=a[e].d;f.push(l)}return{rid:k.r||b.rid,sid:k.s||c.ue_sid,mid:k.m||c.ue_mid,mkt:k.mkt||c.ue_mkt,sn:k.sn||c.ue_sn,reqs:f}}function k(b){var c=d(b),f=a();if(!f)throw"";f.onerror=function(){for(var a=0;a<b.length;a++)g.push(b[a]);D.isSupported=!1};f.open("POST",l,!0);f.setRequestHeader&&f.setRequestHeader("Content-type","text/plain");c=H(c);f.send(c)}var f="MSXML2.XMLHTTP.6.0 MSXML2.XMLHTTP.5.0 MSXML2.XMLHTTP.4.0 MSXML2.XMLHTTP.3.0 MSXML2.XMLHTTP Microsoft.XMLHTTP".split(" ");
return{send:function(a){for(var b in a)a.hasOwnProperty(b)&&a[b].length&&k(a[b])},buildPOSTBodyLog:d,isSupported:!0}}(),E=function(){return{send:function(a){for(var e in a)if(a.hasOwnProperty(e)){for(var k=a[e],f=k,h={},g,m=0;m<f.length;m++)g=f[m].c,h[g]||(h[g]=[]),h[g].push(f[m]);k=k[0]||{};f=k.sn||c.ue_sn;k=l+(k.m||c.ue_mid)+":"+(k.s||c.ue_sid)+":"+(k.r||b.rid)+(f?":"+f:"");f=[];g=k;var m=[],p=void 0;for(p in h)if(h.hasOwnProperty(p))for(var n=0;n<h[p].length;n++){var r=h[p][n],q=encodeURIComponent((r.cs?
R:d)(r.d));m.push({l:q,t:r.t,p:1,c:p,d:r.cs?"c":"j"})}h=m;m=void 0;p="$";for(r=0;r<h.length;){n=h[r];m!=n.c?(g+=p+n.c+"\x3d",p="\x26",m=n.c):g+=",";var q=g,t=n.d+":",v=n;g=(v.l.match(".{1,"+(L-g.length)+"}[^%]{0,2}")||[])[0]||"";v.l=v.l.substr(g.length);g=q+(t+g+":"+n.t);if(n.l)g+=":"+n.p++ +"_",f.push(g),g=k,p="$",m=0;else if(r++,1!=n.p)for(g+=":"+n.p+"_"+n.p,q=0;q<n.p-1;q++)f[f.length-q-1]+=n.p}f.push(g);k=f;for(f=0;f<k.length;f++)(new Image).src=k[f]}},isSupported:!0}}(),B=function(){return{send:function(a){for(var b in a)if(a.hasOwnProperty(b)){var c=
D.buildPOSTBodyLog(a[b]),c=H(c);if(!navigator.sendBeacon(l,c))throw"";}},isSupported:!!navigator.sendBeacon}}();b._fic=E;b._fac=D;b._fbc=B;b._flq=g;b.sid=b.sid||c.ue_sid;b.mid=b.mid||c.ue_mid;b.furl=b.furl||c.ue_furl;b.sn=b.sn||c.ue_sn;b._flhs=b._flhs||0;b._lpn=b._lpn||{};try{e.amznJQ&&e.amznJQ.declareAvailable&&e.amznJQ.declareAvailable("forester-client"),e.P&&e.P.register&&e.P.register("forester-client",x)}catch(a){c.ueLogError(a,{logLevel:"WARN"})}(function(){b.log&&b.log.isStub&&(b.log.replay(function(a,
b,c){var f=a[2]||{};f.t=b;f.r=c;f.n=1;h(a[0],a[1],f)}),b.onunload.replay(function(a){C.push(a[0])}),b.onflush.replay(function(a){m.push(a[0])}))})();b.log=h;b.log.reset=function(){G=0};b.onunload=function(a){C.push(a)};b.onflush=function(a){m.push(a)};b.attach("beforeunload",z);b.attach("pagehide",z);I("ld","ue_frst_v2",{wb:1})})(ue_csm,window);
ue_csm.ue.exec(function(c,e){var t=function(){},n=function(){return{send:function(c,n){if(n&&c){var h;if(e.XDomainRequest)h=new XDomainRequest,h.onerror=t,h.ontimeout=t,h.onprogress=t,h.onload=t,h.timeout=0;else if(e.XMLHttpRequest){if(h=new XMLHttpRequest,!("withCredentials"in h))throw"";}else h=void 0;if(!h)throw"";h.open("POST",c,!0);h.setRequestHeader&&h.setRequestHeader("Content-type","text/plain");h.send(n)}},isSupported:!0}}(),w=function(){return{send:function(e,n){if(e&&n)if(navigator.sendBeacon(e,
n))c.ue_sbuimp&&c.ue&&c.ue.ssw&&c.ue.ssw("eelsts","scs");else throw"";},isSupported:!!navigator.sendBeacon&&!(e.cordova&&e.cordova.platformId&&"ios"==e.cordova.platformId)}}();c.ue._ajx=n;c.ue._sBcn=w},"Transportation-clients")(ue_csm,window);
ue_csm.ue.exec(function(c,e){function t(){for(var a=0;a<arguments.length;a++){var c=arguments[a];try{var k;if(c.isSupported){var f=B.buildPayload(g,b);k=c.send(d,f)}else throw dummyException;return k}catch(h){}}K({m:"All supported clients failed",attribution:"CSMSushiClient_TRANSPORTATION_FAIL",f:"sushi-client.js",logLevel:"ERROR"},e.ue_err_chan||"jserr")}function n(){if(b.length){for(var a=0;a<F.length;a++)F[a]();t(p._sBcn||{},p._ajx||{});b=[];l={};g={};M=G=C=m=0}}function w(){var a=new Date,b=function(a){return 10>
a?"0"+a:a};return Date.prototype.toISOString?a.toISOString():a.getUTCFullYear()+"-"+b(a.getUTCMonth()+1)+"-"+b(a.getUTCDate())+"T"+b(a.getUTCHours())+":"+b(a.getUTCMinutes())+":"+b(a.getUTCSeconds())+"."+String((a.getUTCMilliseconds()/1E3).toFixed(3)).slice(2,5)+"Z"}function r(a){try{return JSON.stringify(a)}catch(b){}return null}function v(a,d,k,f){var g=!1;f=f||{};q++;q==A&&K({m:"Max number of Sushi Logs exceeded",f:"sushi-client.js",logLevel:"ERROR",attribution:"CSMSushiClient_MAX_CALLS"},e.ue_err_chan||
"jserr");var h;if(h=!(q>=A))(h=a&&-1<a.constructor.toString().indexOf("Object")&&d&&-1<d.constructor.toString().indexOf("String")&&k&&-1<k.constructor.toString().indexOf("String"))||N++;h&&(a.producerId=a.producerId||d,a.schemaId=a.schemaId||k,a.timestamp=w(),d=Date.now?Date.now():+new Date,a.messageId=c.ue_id+"-"+d+"-"+q,f&&!f.ssd&&(a.sessionId=a.sessionId||c.ue_sid,a.requestId=a.requestId||c.ue_id,a.obfuscatedMarketplaceId=a.obfuscatedMarketplaceId||c.ue_mid),(d=r(a))?(d=d.length,(b.length==I||
C+d>L)&&n(),C+=d,a={data:B.compressEvent(a)},b.push(a),(f||{}).n?0===D?n():M||(M=e.setTimeout(n,D)):G||(G=e.setTimeout(n,E)),g=!0):g=!1);!g&&c.ue_int&&console.error("Invalid JS Nexus API call");return g}function h(){if(!P){for(var a=0;a<J.length;a++)J[a]();for(a=0;a<F.length;a++)F[a]();b.length&&(c.ue_sbuimp&&c.ue&&c.ue.ssw&&(a=r({dct:g,evt:b}),c.ue.ssw("eeldata",a),c.ue.ssw("eelsts","unk")),t(p._sBcn||{}));P=!0}}function z(a){J.push(a)}function H(a){F.push(a)}var A=1E3,I=499,L=524288,y=function(){},
p=c.ue||{},K=p.log||y,x=c.uex||y;(c.uet||y)("bb","ue_sushi_v1",{wb:1});var d=c.ue_surl||"https://unagi-na.amazon.com/1/events/com.amazon.csm.nexusclient.gamma",R=["messageId","timestamp"],b=[],l={},g={},C=0,m=0,N=0,q=0,J=[],F=[],P=!1,M,G,D=void 0===c.ue_hpsi?1E3:c.ue_hpsi,E=void 0===c.ue_lpsi?1E4:c.ue_lpsi,B=function(){function a(a){l[a]||(l[a]="#"+m++,g[l[a]]=a);return l[a]}function c(a){if(a)switch(typeof a){case "number":return!(isNaN(a)||Infinity===a)&&a.toString().length>("#"+m).length;case "boolean":break;
case "string":return a.length>("#"+m).length;default:return!0}return!1}function e(b){if(c(b)){var d=0;b instanceof Array?d=2:b instanceof Function?d=0:b instanceof Object&&(d=1);switch(d){case 0:b=a(b);break;case 2:var g=b;b=[];for(var d=g.length,h=0;h<d;h++)b[h]=e(g[h]);break;case 1:d={};for(g in b)b.hasOwnProperty(g)&&(d[a(g)]=-1==R.indexOf(g)?e(b[g]):b[g]);b=d}}return b}return{compressEvent:e,buildPayload:function(){return r({cs:{dct:g},events:b})}}}();(function(){if(p.event&&p.event.isStub){if(c.ue_sbuimp&&
c.ue&&c.ue.ssw){var a=c.ue.ssw("eelsts").val;if(a&&"unk"===a&&(a=c.ue.ssw("eeldata").val)){var d;a:{try{d=JSON.parse(a);break a}catch(e){}d=null}d&&d.evt instanceof Array&&d.dct instanceof Object&&(b=d.evt,g=d.dct,b&&g&&(n(),c.ue.ssw("eeldata","{}"),c.ue.ssw("eelsts","scs")))}}p.event.replay(function(a){a[3]=a[3]||{};a[3].n=1;v.apply(this,a)});p.onSushiUnload.replay(function(a){z(a[0])});p.onSushiFlush.replay(function(a){H(a[0])})}})();p.attach("beforeunload",h);p.attach("pagehide",h);p._cmps=B;p.event=
v;p.event.reset=function(){q=0};p.onSushiUnload=z;p.onSushiFlush=H;try{e.P&&e.P.register&&e.P.register("sushi-client",y)}catch(a){c.ueLogError(a,{logLevel:"WARN"})}x("ld","ue_sushi_v1",{wb:1})},"Nxs-JS-Client")(ue_csm,window);